# Bayesian Network Problem (Casual Belief network)

### problem
```
Consider two medical tests, A and B, for a virus. Test A is 95% effective at recognising the virus when the virus is present, but has a 10% false positive rate (indicating that the virus is present, when it is not). Test B is 90% effective at recognizing the virus, but has a 5% false positive rate. The two tests use independent methods of identifying the virus. The virus is carried by 1% of all people.
```

## working
### prob calculations
NOTE: Important to pay attention to if test given virus or virus given test in prob direction. VERIFY THIS

- Virus Prevalence
  - P(Virus=True) = 0.01
  - P(Virus=False) = 0.99

- (Test)A Characteristics:
  - Sensitivity: Prob of test being true, and virus being present
    - P(A=True|Virus=True) = 0.95
  - Specificity: Prob of test being false, and virus not being present
    - P(|A=False|Virus=False) = ?
  - False Positive Rate: Prob of test being false and virus being present
    - P(A=False|Virus=True) = 1 - specificity = 0.10

- (Test)B Characteristics:
  - Sensitivity: Prob of test being true, and virus being present
    - P(B=True|Virus=True) = 0.90
  - Specificity: Prob of test being false, and virus not being present
    - P(B=False|Virus=False) = ?
  - False Positive Rate: Prob of test being false, and virus being present
    - P(B=False|Virus=True) = 0.05

### bayesian network construction
- variables:
  - Virus: (True|False)
  - (Test)A: (True|False)
  - (Test)B: (True|False)

- structure:
  - Virus is root node, no parents, not dependent on anything
  - A is child node, virus is parent node, conditionally dependent on virus
  - B is child node, virus is parent node, conditionally dependent on virus

- CPTs:
  - Virus Node CPT:

|Virus|Probability|
|-----|-----------|
|True|0.01|
|False|0.99|

  - A Node CPT:

|Virus|A|P(A\|Virus)|
|-----|-|-----------|
|True|True|0.95|
|True|False|0.05|
|False|True|0.10|
|False|False|0.90| 
  - NOTE: Calculate False,False (also known as specificity) re-arranging False Positive
  - NOTE: Calculate True,False = 1 - P(A=True|Virus=True) (CHECK THIS)

  - B Node CPT:

|Virus|B|P(B\|Virus)|
|-----|-|-----------|
|True|True|0.90|
|True|False|0.10|
|False|True|0.05|
|False|False|0.95|

### code
```
network = {
    'Virus': {
        'Parents':[],
        'CPT': {
            (): 0.01
        }
    },
    'A': {
        'Parents':['Virus'],
        'CPT': {
            (True,): 0.95,
            (False,): 0.10
        }
    },
    'B': {
        'Parents':['Virus'],
        'CPT': {
            (True,): 0.90,
            (False,):0.05
        }
    }
}
```
